<!---
This file is reset every time a new release is done. The contents of this file are for the currently unreleased version.

Example Note:

## Example Heading
Details about the thing that changed that needs to get included in the Release Notes in markdown.
-->
# knife-windows 1.0.0 release notes:
This release of knife-windows includes new features to improve authentication,
simplify use of the WinRM SSL transport, and addresses compatibility issues with Chef Client 12.0.

**Note:** This release is not compatible with chef-dk versions before 0.7.0. Please use `chef-dk >= 0.7.0` release version.

You can install the new features using the `gem` command:

    gem install knife-windows

Due to dependency conflicts, to use knife-windows 1.0.0+ with ChefDK 0.6.2, you must also upgrade chef-provisioning to 1.2.0+ and update the line referencing chef-provisioning in c:\opscode\chefdk\bin\chef. ChefDK 0.7.0+ will include the latest versions of both knife-windows and chef-provisioning.

    chef gem install knife-windows
    chef gem install chef-provisioning

## Reporting issues and contributing

`knife-windows` issues like those addressed in this release should be reported in the ticketing system at https://github.com/chef/knife-windows/issues. You can learn more about how to contribute features and bug fixes to `knife-windows` in the [Chef Contributions document](http://docs.chef.io/community_contributions.html).

## Breaking changes

### Negotiate as the default authentication protocol
With this release, the default authentication protocol for WinRM
communication is negotiate, which is the same as that for tools built-in to
the Windows operating system. Prior to this release, the protocol depended
on the format of the `--winrm-user` option -- the basic authentication
protocol would be assumed unless that option had the format `domain\user`.

To revert to the behavior of previous releases or otherwise force `knife-windows` to use a specific authentication protocol such as
basic, use the `--winrm-authentication-protocol` option.

### Default WinRM port depends on the transport
The default port for WinRM communication is now **5986** when the SSL transport is used (the transport is
configured by the `winrm_transport` option), otherwise it is **5985**. In
previous releases, if the port was not specified, it was always 5985.

To override this behavior, explicitly specify the desired port using the
`winrm_port` (`-p`) option.

### Kerberos Keytab short option is now -T
The short option flag for --keytab-file is now -T to fix a conflict with the --identity-file option.

## Features added in knife-windows 1.0.0
* New `--winrm-authentication-protocol` option for explicit control of WinRM authentication
* `knife windows cert generate` subcommand:
  Generates a certificate and related public key file for use in configuring a WinRM listener and validating communication involving it.
* `knife windows cert install` subcommand:
  Installs a certificate such as one generated by the `cert generate`
  subcommand into the Windows certificate store's LocalMachine personal store
  so that it can be used as part of the configuration for a WinRM SSL listener
* `knife windows listener create` subcommand:
  Creates a WinRM SSL listener on a Windows system
* Added `--hint` option for creating Ohai hints on bootstrap
* Validatorless bootstrapping is now supported
* New `--install-as-service` option will have Chef Client be installed as a service on bootstrap
* Added `--msi_url` option for providing an alternate URL to the Chef Client installation package
* `knife wsman test` subcommaned:
  Verifies winrm functionality on a remote system, e.g. `knife wsman test 192.168.1.10 -m --winrm-transport ssl`
  
## Issues fixed in knife-windows 1.0.0
* [knife-windows #159](https://github.com/chef/knife-windows/issues/159) `winrm_port` option should default to 5986 if `winrm_transport` option is `ssl`
* [knife-windows #139](https://github.com/chef/knife-windows/issues/139) Force dev dependency on Chef 11 for test scenarios to avoid Ohai 8 conflict on Ruby 1.9.x
* [knife-windows #133](https://github.com/chef/knife-windows/issues/133) Bootstrap failure -- unable to validate SSL chef server endpoints
* [knife-windows #125](https://github.com/chef/knife-windows/issues/125) knife-windows should use PowerShell first before cscript to download the  Chef Client msi
* [knife-windows #92](https://github.com/chef/knife-windows/issues/92) EventMachine issue: knife bootstrap windows winrm error
* [knife-windows #94](https://github.com/chef/knife-windows/issues/94) Remove Eventmachine dependency
* [knife-windows #213](https://github.com/chef/knife-windows/pull/213) Search possibilities of HOME for bootstrap templates
* [knife-windows #227](https://github.com/chef/knife-windows/issues/227) Exception: NoMethodError: undefined method 'gsub' for false:FalseClass

## knife-windows on RubyGems and Github
https://rubygems.org/gems/knife-windows
https://github.com/chef/knife-windows

